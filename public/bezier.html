<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>PiGraph - Dev page</title>

    <!-- Alpine -->
    <script src="//unpkg.com/alpinejs" defer></script>

    <!-- SVG -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/svg.js/3.0.13/svg.min.js"></script>

    <!-- KaTex -->
    <link rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css"
          integrity="sha384-zB1R0rpPzHqg7Kpt0Aljp8JPLqbXI3bhnPWROx27a9N0Ll6ZP/+DiW/UqRcLbRjq"
          crossorigin="anonymous">
    <script crossorigin="anonymous"
            integrity="sha384-y23I5Q6l+B6vatafAwxRu/0oK/79VlbSz7Q9aiSZUvyWYIYsd+qj+o24G5ZU2zJz"
            src="https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.js"></script>

    <script src="https://cdn.tailwindcss.com"></script>

    <!-- PiDraw -->
    <script src="../dev/pidraw.js"></script>
</head>
<body>
<div x-data="graphExample">
    <div id="root"></div>
</div>
<script>
	function graphExample () {
		let graph = new PiDraw('root')
		graph.axis()

		graph.getFigure('MAINGRID')

        let X1 = graph.point(1,4, "A").draggable(),
            X2 = graph.point(3,8, "B").draggable(),
            X3 = graph.point(5,2, "C").draggable(),
            X4 = graph.point(7,8, "D").draggable(),
            X5 = graph.point(11,8, "E").draggable(),
            b = graph.bezier([
                {point: X1, control: "av"},
                {point: X2, control: "flat"},
                {point: X3, control: "smooth"},
                {point: X4, control: "flat", ratio: 0.5},
                {point: X5, control: "flat"},
            ]).stroke({width: 3, color: "green"})



		return {
			graph,
			figures: graph.figures.map(x => x.name),
			changePlot (name, plot) {
				graph.getFigure(name).plot(plot, 200)
			}
		}
	}
</script>
</body>
</html>